document.querySelector(".js-button");const T=document.querySelector(".js-input"),x=document.querySelector(".js-list-products"),b="https://fakestoreapi.com/products",q=document.querySelector(".js-btnclear");let p=[],c=JSON.parse(localStorage.getItem("cart"))||[];function y(t){for(let n of t){const a=document.createElement("div");a.className="boxProduct";const e=document.createElement("img");e.src=n.image,e.alt=n.title,e.className="img";const i=document.createElement("h3");i.innerText=n.title;const d=document.createElement("p");d.innerText=n.price+"€";const s=document.createElement("p");s.innerText=n.rating.rate+"⭐";const r=document.createElement("button");r.innerText="Comprar",r.className="btn-buy",r.setAttribute("data-id",n.id),r.addEventListener("click",o=>v(n,o.target)),g(r,n),a.appendChild(e),a.appendChild(i),a.appendChild(r),a.appendChild(d),a.appendChild(s),x.appendChild(a)}}function g(t,n){c.find(e=>e.id===n.id)!==void 0?(t.innerText="Eliminar",t.classList.add("added")):(t.innerText="Comprar",t.classList.remove("added"))}function v(t,n){c.find(e=>e.id===t.id)?c=c.filter(e=>e.id!==t.id):c.push({...t,quantity:1}),f(),h(),g(n,t)}function E(t,n){const a=c.find(e=>e.id===t);a&&(n==="increase"?a.quantity++:n==="decrease"&&(a.quantity--,a.quantity===0&&(c=c.filter(e=>e.id!==t))),f(),h())}function h(){const t=document.querySelector(".js-list-cart"),n=document.querySelector(".js-total");t.innerHTML="";let a=0;c.forEach(e=>{const i=document.createElement("li");i.className="boxProductcart";const d=document.createElement("img");d.src=e.image,d.alt=e.title,d.className="img";const s=document.createElement("h3");s.innerText=e.title;const r=document.createElement("p");r.innerText=e.price+"€";const o=document.createElement("div");o.className="div";const C=document.createElement("span");C.innerText=`Cantidad: ${e.quantity} Total: ${e.price*e.quantity}€`,a+=e.price*e.quantity;const l=document.createElement("button");l.innerText="+",l.className="btn-more",l.addEventListener("click",()=>E(e.id,"increase"));const m=document.createElement("button");m.innerText="-",m.className="btn-remove2",m.addEventListener("click",()=>E(e.id,"decrease"));const u=document.createElement("button");u.innerText="Quitar",u.className="btn-remove",u.addEventListener("click",()=>v(e,document.querySelector(`[data-id='${e.id}']`))),i.appendChild(d),i.appendChild(s),i.appendChild(r),i.appendChild(u),i.appendChild(C),i.appendChild(o),o.appendChild(l),o.appendChild(m),t.appendChild(i)}),n.innerText=`Total: ${a.toFixed(2)}€`}function L(){c=[],f(),h(),document.querySelectorAll(".btn-buy").forEach(t=>{t.innerText="Comprar",t.classList.remove("added")})}function S(t){const n=t.target.value.toLowerCase(),a=p.filter(e=>e.title.toLowerCase().includes(n));x.innerHTML="",y(a)}function f(){localStorage.setItem("cart",JSON.stringify(c))}fetch(b).then(t=>t.json()).then(t=>{p=t,console.log(p),y(p)}).catch(t=>console.error("Error al cargar productos:",t));T.addEventListener("input",S);document.addEventListener("DOMContentLoaded",h);q.addEventListener("click",L);
//# sourceMappingURL=main.js.map
